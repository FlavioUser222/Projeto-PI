<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inclusive.com</title>
</head>

<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: Arial, sans-serif;
    }

    body {
        background: #fff;
        color: #333;
    }

    img {
        width: 100%;
    }

    header {
        background: #e60000;
        padding: 12px 20px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    header img {
        height: 40px;
    }

    footer {
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 40px;
        background-color: #e60000;
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        transform: translateY(100%);
        transition: transform 0.3s ease;
    }

    footer.show {
        transform: translateY(0);
    }


    .input-Img {
        display: flex;
        align-items: center;
        background: #fff;
        border-radius: 20px;
        padding: 5px 10px;
        width: 100%;
        max-width: 400px;
    }

    .input-Img input {
        border: none;
        outline: none;
        flex: 1;
        padding: 8px;
        font-size: 14px;
    }

    .input-Img img {
        height: 20px;
        margin-left: 8px;
    }

    .container {
        padding: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .titulo1 {
        margin: 30px 0 15px;
        text-align: center;
        font-size: 1.4rem;
    }

    #select {
        margin-bottom: 25px;
        padding: 8px 12px;
        border-radius: 8px;
        border: 1px solid #ccc;
        font-size: 14px;
    }

    .content {
        max-width: 1000px;
        width: 100%;
        margin-top: 52px;
    }

    .content-videos {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        gap: 20px;
        justify-content: center;
        max-width: 1100px;
        align-items: start;
        width: 100%;
        cursor: pointer;
        margin: 0 auto;
    }

    .videoCard {
        display: flex;
        flex-direction: column;
        align-items: center;
        height: 250px;
        border-radius: 12px;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        transition: transform 0.2s;
    }

    .videoCard:hover {
        transform: scale(1.03);
    }

    .videoCard p {
        margin-top: 10px;
        font-size: 14px;
        text-align: center;
    }

    video {
        width: 100%;
        height: auto;
        border-radius: 8px;
        object-fit: cover;
    }

    .acessibilidade {
        position: fixed;
        right: 40px;
        bottom: 50px;
        z-index: 100;
    }

    .acessibilidade a>img {
        width: 70px;
        height: 70px;
        cursor: pointer;
        transition: transform 0.2s;
    }

    .acessibilidade a>img:hover {
        transform: scale(1.1);
    }

    .options-acessibilidade {
        display: none;
        position: absolute;
        bottom: 80px;
        right: 0;
        background-color: #fff;
        border-radius: 10px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        padding: 10px;
        flex-direction: column;
        gap: 8px;
        width: 250px;
        text-align: left;
        animation: fadeIn 0.2s ease-in-out;
    }

    .options-acessibilidade::after {
        content: "";
        position: absolute;
        bottom: -10px;
        right: 20px;
        border-width: 10px;
        border-style: solid;
        border-color: #fff transparent transparent transparent;
    }

    .options-acessibilidade a {
        color: #333;
        text-decoration: none;
        font-size: 14px;
        display: flex;
        align-items: center;
        gap: 6px;
        padding: 5px 8px;
        border-radius: 6px;
        transition: background 0.2s;
    }

    .options-acessibilidade a:hover {
        background: #f2f2f2;
    }

    @media (max-width: 768px) {
        header {
            flex-direction: column;
            align-items: flex-start;
        }

        .input-Img {
            width: 100%;
            margin-top: 10px;
        }

        .titulo1 {
            font-size: 1.2rem;
        }
    }

    .buttons-opt ul {
        display: flex;
        list-style: none;
        gap: 15px;
        margin-top: 50px;
    }

    .buttons-opt li {
        border-radius: 30px;
        background-color: #e60000;
    }

    .buttons-opt a {
        text-decoration: none;
        color: white;
        width: 235px;
        height: 45px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;

    }

    .input-Img img {
        width: 30px;
        height: 30px;
        object-fit: cover;
    }
</style>



<body>
    <header>
        <img src="" alt="Inclusive.com">
        <div class="input-Img">
            <input type="text" placeholder="Pesquisar curso" id="pesquisarCurso">
            <img src="../imagens/search.png" alt="Ícone pesquisa">
        </div>
    </header>

    <div class="container">

        <div class="acessibilidade">
            <a href="javascript:void(0)" onclick="clickAcessibilidade()"><img src="../imagens/acessibilidade.png"
                    alt=""></a>
            <div class="options-acessibilidade" id="optionsAcessibilidade">
                <a href=""><img src="../imagens/contrast.png" alt="Ícone contraste">Alto contraste</a>
                <a href=""><img src="../imagens/mais.png" alt="Simbolo soma">Aumentar a fonte</a>
                <a href=""><img src="../imagens/minus-big-symbol.png" alt="Simbolo de subtração">Diminuir a fonte</a>
                <a href=""><img src="../imagens/color-blindness-test.png" alt="Ícone daltonismo">Daltonismo</a>
            </div>
        </div>

        <div class="buttons-opt">
            <ul>
                <li><a href="">Celular</a></li>
                <li><a href="">Computador</a></li>
                <li><a href="">Compras online</a></li>
                <li><a href="">Pagamentos</a></li>
            </ul>
        </div>
        <div class="content">
            <h1 class="titulo1">Conheça nossos cursos</h1>
            <select name="" id="select">
                <option selected disabled>Filtrar por:</option>

            </select>
            <div class="content-videos" id="content-videos"></div>
        </div>


        <footer>

        </footer>


    </div>


    <script>
        let todosVideos = [] // variável global para guardar todos os vídeos

        async function mostrarVideo() {
            try {
                let res = await fetch('https://projeto-pi-onrender.onrender.com/videos');
                todosVideos = await res.json(); // salva todos os vídeos
                exibirVideos(todosVideos) // exibe todos inicialmente
            } catch (error) {
                console.error(error);
            }
        }

        function exibirVideos(lista) {
            const videosContent = document.getElementById('content-videos');
            videosContent.innerHTML = ''

            lista.forEach((video) => {
                let videoElement = document.createElement('video');
                let videoCard = document.createElement('div');
                let titulo = document.createElement('p');
                let link = document.createElement('a');
                link.href = `video.html?id=${video.id}`
                link.style.textDecoration = 'none';
                link.style.color = 'inherit';


                
                videoCard.className = "videoCard";
                videoElement.src = `https://projeto-pi-onrender.onrender.com/uploads/${video.video}`;
                videoElement.controls = true;
                videoElement.preload = 'metadata';
                videoElement.poster = `https://projeto-pi-onrender.onrender.com/uploads/${video.thumbnail}`;
                videoElement.style.borderRadius = '8px'
                videoElement.style.maxWidth = '100%'
                videoElement.style.height = '180px'

                titulo.innerText = video.nome


                link.appendChild(videoElement);
                link.appendChild(titulo);
                videoCard.appendChild(link);
                videosContent.appendChild(videoCard);
            });
        }

        function filtrarVideos() {
            const termo = document.getElementById('pesquisarCurso').value.toLowerCase();

            const filtrados = todosVideos.filter(video =>
                video.nome.toLowerCase().includes(termo)
            );

            exibirVideos(filtrados);
        }

        function clickAcessibilidade() {
            const options = document.getElementById("optionsAcessibilidade");
            const isVisible = options.style.display === "flex";
            options.style.display = isVisible ? "none" : "flex";
        }

        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('pesquisarCurso').addEventListener('input', filtrarVideos);
            mostrarVideo(); // carrega os vídeos ao iniciar
        })

        window.addEventListener('scroll', () => {
            const footer = document.querySelector('footer')
            const scrollTop = window.scrollY + window.innerHeight
            const docHeight = document.documentElement.scrollHeight

            if (scrollTop >= docHeight - 10) {
                footer.classList.add('show');
            } else {
                footer.classList.remove('show');
            }
        });




    </script>



</body>

</html>